<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module-@perion_calc.HyperStats.html">HyperStats</a><ul class='methods'><li data-type='method'><a href="module-@perion_calc.HyperStats.html#.from">from</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyAll">applyAll</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyArcaneForce">applyArcaneForce</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyBonusExp">applyBonusExp</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyBossDmg">applyBossDmg</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyCrit">applyCrit</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyCritDmg">applyCritDmg</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyDmg">applyDmg</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyIgnoreDef">applyIgnoreDef</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMagicAtt">applyMagicAtt</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxDF">applyMaxDF</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxHP">applyMaxHP</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxMP">applyMaxMP</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxTF">applyMaxTF</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyPureStats">applyPureStats</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyStance">applyStance</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyStatusResist">applyStatusResist</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyWeaponAtt">applyWeaponAtt</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#get">get</a></li></ul></li><li><a href="module-@perion_core.Cast.html">Cast</a><ul class='methods'><li data-type='method'><a href="module-@perion_core.Cast.html#.from">from</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#float32">float32</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#float64">float64</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int8">int8</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int16">int16</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int32">int32</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int64">int64</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#short">short</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#uint8">uint8</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#uint16">uint16</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#uint32">uint32</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#ushort">ushort</a></li></ul></li><li><a href="module-@perion_core.StateContainer.html">StateContainer</a><ul class='methods'><li data-type='method'><a href="module-@perion_core.StateContainer.html#.from">from</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#delete">delete</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#get">get</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#pack">pack</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#set">set</a></li></ul></li><li><a href="module-@perion_crypto.AES.html">AES</a><ul class='methods'><li data-type='method'><a href="module-@perion_crypto.AES.html#._morph">_morph</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#.morphIV">morphIV</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#.scaleIV">scaleIV</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#_getPacketLength">_getPacketLength</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#_transform">_transform</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#getPacketHeader">getPacketHeader</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#transform">transform</a></li></ul></li><li><a href="module-@perion_crypto.Shanda.html">Shanda</a><ul class='methods'><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.decrypt">decrypt</a></li><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.encrypt">encrypt</a></li><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.rol">rol</a></li><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.ror">ror</a></li></ul></li><li><a href="module-@perion_net.Encoder.html">Encoder</a><ul class='methods'><li data-type='method'><a href="module-@perion_net.Encoder.html#.decode">decode</a></li><li data-type='method'><a href="module-@perion_net.Encoder.html#.encode">encode</a></li></ul></li><li><a href="module-@perion_net.Parser.html">Parser</a><ul class='methods'><li data-type='method'><a href="module-@perion_net.Parser.html#.from">from</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ascii">ascii</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#bool">bool</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#byte">byte</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#char">char</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#collect">collect</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#double">double</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#get">get</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#int">int</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#long">long</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#mapleascii">mapleascii</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#nullascii">nullascii</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#pos">pos</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#read">read</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#seek">seek</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#short">short</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#skip">skip</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ubyte">ubyte</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#uint">uint</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ulong">ulong</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ushort">ushort</a></li></ul></li><li><a href="module-@perion_net.Writer.html">Writer</a><ul class='methods'><li data-type='method'><a href="module-@perion_net.Writer.html#ascii">ascii</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#bool">bool</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#buffer">buffer</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#byte">byte</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#dynamicAlloc">dynamicAlloc</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#int">int</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#long">long</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#mapleascii">mapleascii</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#nullascii">nullascii</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#pos">pos</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#short">short</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#ubyte">ubyte</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#uint">uint</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#ulong">ulong</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#ushort">ushort</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#write">write</a></li></ul></li><li><a href="module-@perion_script.ContextProvider.html">ContextProvider</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.ContextProvider.html#getContext">getContext</a></li></ul></li><li><a href="module-@perion_script.Engine.html">Engine</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.Engine.html#.evalInContext">evalInContext</a></li><li data-type='method'><a href="module-@perion_script.Engine.html#handleRequest">handleRequest</a></li></ul></li><li><a href="module-@perion_script.NPCContext.html">NPCContext</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.NPCContext.html#build">build</a></li></ul></li><li><a href="module-@perion_script.ScriptProvider.html">ScriptProvider</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.ScriptProvider.html#getFile">getFile</a></li><li data-type='method'><a href="module-@perion_script.ScriptProvider.html#getScript">getScript</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-@perion_calc.html">@perion/calc</a></li><li><a href="module-@perion_core.html">@perion/core</a></li><li><a href="module-@perion_crypto.html">@perion/crypto</a></li><li><a href="module-@perion_net.html">@perion/net</a></li><li><a href="module-@perion_perion.html">@perion/perion</a></li><li><a href="module-@perion_script.html">@perion/script</a></li><li><a href="module-@perion_wz.html">@perion/wz</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1><code>@perion/perion</code> <a href="https://github.com/jonnylin13"><img src="https://travis-ci.org/jonnylin13/perion.svg?branch=master" alt="Travis CI Build Status"></a> <img src="https://img.shields.io/badge/min%20coverage-90%25-green" alt="Code coverage"></h1>
<p>A library of Node.js modules that help bring MapleStory private server development to the <code>npm</code> ecosystem.</p>
<pre class="prettyprint source"><code>npm i --save @perion/perion
</code></pre>
<ul>
<li>Note this project is in early development, use with caution</li>
</ul>
<h1>Overview</h1>
<h2>Core Packages</h2>
<ul>
<li>calc</li>
</ul>
<p>A calculator library that implements standard MapleStory specific calculations such as damage, stat modifiers, experience, and levels.</p>
<pre class="prettyprint source lang-node"><code>const calc = require('@perion/calc');

/** Example player stats object */
const playerStats = {base: {str: 4, ...}, hyper: {str: 1, ...}};

/** crypto.calc example */
const modifiedStats = calc.HyperStats(playerStats).applyAll().get();

/** Returns {str: 34, ...} */
</code></pre>
<ul>
<li>crypto</li>
</ul>
<p>A cryptography library that exposes everything you need to encrypt/decrypt data for MapleStory.</p>
<pre class="prettyprint source lang-node"><code>const crypto = require('@perion/crypto');

/** Example data */
const payload = Buffer.from([0x1]);
const sendIv = Buffer.from([0x0, 0x2, 0x3, 0x4]);
const recvIv = Buffer.from([0x4, 0x2, 0x1, 0x0]);

/** crypto.Shanda example */
const encrypted = crypto.Shanda.encrypt(payload);
const decrypted = crypto.Shanda.decrypt(payload);

/** Returns the input buffer with the payload encrypted/decrypted using Maple Custom Shanda */

/** crypto.AES example */
/**
  * You must initialize the AES class with:
  * - an IV (Initialization Vector)
  * - a MapleStory version number
  *
  * The IV must have a length of 4
  * As the server, you must send the IV for both send and recv to the client
  */
const sendAES = new crypto.AES(sendIv, 83);
const recvAES = new crypto.AES(recvIv, 83);

const encryptedOut = sendAES.transform(payload);
const decryptedIn = recvAES.transform(payload);

/** Returns the input buffer with the payload encrypted/decryped using Maple AES */
</code></pre>
<ul>
<li>net</li>
</ul>
<p>A packet parser using method-chaining syntax for compact and efficient parsing/writing of packet structures.</p>
<pre class="prettyprint source lang-node"><code>const net = require('@perion/net');

/** Example buffer */
const data = Buffer.from([1, 2]);

/** net.Packet.Parser example */
const packet = new net.Packet.Parser(data);
const fields = ['id', 'name', 'hp'];
const unpacked = packet.int().mapleascii().int().collect(fields);

/** Returns {id: &lt;number>, name: &lt;string>, hp: &lt;number>} */

/** net.Packet.Writer example */

/** Initialize with length */
let packet = new net.Packet.Writer(5);
packet = packet.byte(0x0).int(9).buffer();

/** Returns the buffer with data */

</code></pre>
<ul>
<li>script</li>
</ul>
<p>A generic scripting engine for NPCs, events, maps, etc.</p>
<ul>
<li>wz</li>
</ul>
<p>A WZ library that can read and write to the WZ file format.</p>
<h2>Neat Features</h2>
<ul>
<li>Uses Google's recommended JS style guidelines, fully documented code including full JSDoc comments</li>
<li>Modular packages, so use what you want</li>
<li>Full test coverage, with a minimum coverage threshold of 90%</li>
<li>Zero dependencies</li>
</ul>
<h1>Project Goals</h1>
<h2>In Progress</h2>
<ul>
<li>Networking protocol</li>
<li>Damage calculations</li>
<li>Event timers</li>
<li>WZ and NX file format</li>
<li>Generic MapleStory abstractions</li>
<li>Multiple MapleStory versions</li>
</ul>
<h1>Project Overview</h1>
<h2>Linter</h2>
<pre class="prettyprint source"><code>npm run lint
</code></pre>
<h2>Test</h2>
<pre class="prettyprint source"><code>npm run test
npm run lcov
</code></pre>
<h2>Documentation</h2>
<p>Click <a href="https://jonnylin13.github.io/perion/">here</a> for the code documentation!</p>
<h1>Contributing</h1>
<p>For now, there are no contribution guidelines. I only ask that you follow the <code>eslint</code> rules when contributing a pull request. Thanks!</p>
<p><a href="https://GitHub.com/Naereen/"><img src="http://ForTheBadge.com/images/badges/built-with-love.svg" alt="ForTheBadge built-with-love"></a></p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Tue Mar 23 2021 11:31:06 GMT-0700 (Pacific Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>