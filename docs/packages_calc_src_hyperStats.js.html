<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>packages/calc/src/hyperStats.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module-@perion_calc.HyperStats.html">HyperStats</a><ul class='methods'><li data-type='method'><a href="module-@perion_calc.HyperStats.html#.from">from</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyAll">applyAll</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyArcaneForce">applyArcaneForce</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyBonusExp">applyBonusExp</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyBossDmg">applyBossDmg</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyCrit">applyCrit</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyCritDmg">applyCritDmg</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyDmg">applyDmg</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyIgnoreDef">applyIgnoreDef</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMagicAtt">applyMagicAtt</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxDF">applyMaxDF</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxHP">applyMaxHP</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxMP">applyMaxMP</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyMaxTF">applyMaxTF</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyPureStats">applyPureStats</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyStance">applyStance</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyStatusResist">applyStatusResist</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#applyWeaponAtt">applyWeaponAtt</a></li><li data-type='method'><a href="module-@perion_calc.HyperStats.html#get">get</a></li></ul></li><li><a href="module-@perion_core.Cast.html">Cast</a><ul class='methods'><li data-type='method'><a href="module-@perion_core.Cast.html#.from">from</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#float32">float32</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#float64">float64</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int8">int8</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int16">int16</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int32">int32</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#int64">int64</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#short">short</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#uint8">uint8</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#uint16">uint16</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#uint32">uint32</a></li><li data-type='method'><a href="module-@perion_core.Cast.html#ushort">ushort</a></li></ul></li><li><a href="module-@perion_core.StateContainer.html">StateContainer</a><ul class='methods'><li data-type='method'><a href="module-@perion_core.StateContainer.html#.from">from</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#delete">delete</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#get">get</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#pack">pack</a></li><li data-type='method'><a href="module-@perion_core.StateContainer.html#set">set</a></li></ul></li><li><a href="module-@perion_crypto.AES.html">AES</a><ul class='methods'><li data-type='method'><a href="module-@perion_crypto.AES.html#._morph">_morph</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#.morphIV">morphIV</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#.scaleIV">scaleIV</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#_getPacketLength">_getPacketLength</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#_transform">_transform</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#getPacketHeader">getPacketHeader</a></li><li data-type='method'><a href="module-@perion_crypto.AES.html#transform">transform</a></li></ul></li><li><a href="module-@perion_crypto.Shanda.html">Shanda</a><ul class='methods'><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.decrypt">decrypt</a></li><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.encrypt">encrypt</a></li><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.rol">rol</a></li><li data-type='method'><a href="module-@perion_crypto.Shanda.html#.ror">ror</a></li></ul></li><li><a href="module-@perion_net.Encoder.html">Encoder</a><ul class='methods'><li data-type='method'><a href="module-@perion_net.Encoder.html#.decode">decode</a></li><li data-type='method'><a href="module-@perion_net.Encoder.html#.encode">encode</a></li></ul></li><li><a href="module-@perion_net.Parser.html">Parser</a><ul class='methods'><li data-type='method'><a href="module-@perion_net.Parser.html#.from">from</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ascii">ascii</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#bool">bool</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#byte">byte</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#char">char</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#collect">collect</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#double">double</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#get">get</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#int">int</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#long">long</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#mapleascii">mapleascii</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#nullascii">nullascii</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#pos">pos</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#read">read</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#seek">seek</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#short">short</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#skip">skip</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ubyte">ubyte</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#uint">uint</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ulong">ulong</a></li><li data-type='method'><a href="module-@perion_net.Parser.html#ushort">ushort</a></li></ul></li><li><a href="module-@perion_net.Writer.html">Writer</a><ul class='methods'><li data-type='method'><a href="module-@perion_net.Writer.html#ascii">ascii</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#bool">bool</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#buffer">buffer</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#byte">byte</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#dynamicAlloc">dynamicAlloc</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#int">int</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#long">long</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#mapleascii">mapleascii</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#nullascii">nullascii</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#pos">pos</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#short">short</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#ubyte">ubyte</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#uint">uint</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#ulong">ulong</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#ushort">ushort</a></li><li data-type='method'><a href="module-@perion_net.Writer.html#write">write</a></li></ul></li><li><a href="module-@perion_script.ContextProvider.html">ContextProvider</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.ContextProvider.html#getContext">getContext</a></li></ul></li><li><a href="module-@perion_script.Engine.html">Engine</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.Engine.html#.evalInContext">evalInContext</a></li><li data-type='method'><a href="module-@perion_script.Engine.html#handleRequest">handleRequest</a></li></ul></li><li><a href="module-@perion_script.NPCContext.html">NPCContext</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.NPCContext.html#build">build</a></li></ul></li><li><a href="module-@perion_script.ScriptProvider.html">ScriptProvider</a><ul class='methods'><li data-type='method'><a href="module-@perion_script.ScriptProvider.html#getFile">getFile</a></li><li data-type='method'><a href="module-@perion_script.ScriptProvider.html#getScript">getScript</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-@perion_calc.html">@perion/calc</a></li><li><a href="module-@perion_core.html">@perion/core</a></li><li><a href="module-@perion_crypto.html">@perion/crypto</a></li><li><a href="module-@perion_net.html">@perion/net</a></li><li><a href="module-@perion_perion.html">@perion/perion</a></li><li><a href="module-@perion_script.html">@perion/script</a></li><li><a href="module-@perion_wz.html">@perion/wz</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">packages/calc/src/hyperStats.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const {ADDED_STATS, PURE_STATS} = require('./constants.js');
/**
 * Internal class for calculating hyper stat modifiers
 * @class
 * @ignore
 */
class Util {
  /**
   * Calculates hyper pure stat modifier
   * @static
   * @param {HyperStats} scope
   * @param {string} stat
   * @return {number}
   */
  static calcPureStat(scope, stat) {
    return scope.hyper[stat] * 30;
  }
  /**
   * Calculates the Max HP hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcMaxHP(scope) {
    return scope.base.maxHP * scope.hyper.maxHP * 0.02;
  }
  /**
   * Calculates the Max MP hyper stat modifier
   * @static
   * @param {HyperStats} scope 
   * @return {number}
   */
  static calcMaxMP(scope) {
    return scope.base.maxMP * scope.hyper.maxMP * 0.02;
  }
  /**
   * Calculates the demon force hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcMaxDF(scope) {
    return scope.hyper.maxDF * 10;
  }
  /**
   * Calculates the time force hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcMaxTF(scope) {
    return scope.hyper.maxTF * 10;
  }
  /**
   * Calculates the hyper critical rate % stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcCrit(scope) {
    if (scope.hyper.crit &lt; 6) return scope.hyper.crit;
    return 5 + (scope.hyper.crit - 5) * 2;
  }
  /**
   * Calculates the critical damage % hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcCritDmg(scope) {
    return scope.hyper.critDmg;
  }
  /**
   * Calculates the ignore defense % hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcIgnoreDef(scope) {
    return scope.hyper.ignoreDef * 3;
  }
  /**
   * Calculates the boss dmg % hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcBossDmg(scope) {
    if (scope.hyper.bossDmg &lt; 6) return scope.hyper.bossDmg * 3;
    return 15 + ((scope.hyper.bossDmg - 5) * 4);
  }
  /**
   * Calculates the dmg % hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcDmg(scope) {
    return scope.hyper.dmg * 3;
  }
  /**
   * Calculates the status resistance hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcStatusResist(scope) {
    if (scope.hyper.statusResist &lt; 6) return scope.hyper.statusResist;
    return 5 + ((scope.hyper.statusResist - 5) * 2);
  }
  /**
   * Calculates the stance hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcStance(scope) {
    return scope.hyper.stance * 2;
  }
  /**
   * Calculates the weapon ATT hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcWeaponAtt(scope) {
    return scope.hyper.weaponAtt * 3;
  }
  /**
   * Calculates the magic ATT hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcMagicAtt(scope) {
    return scope.hyper.magicAtt * 3;
  }
  /**
   * Calculates the bonus EXP % hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcBonusExp(scope) {
    if (scope.hyper.bonusExp &lt; 11) return 0.5 * scope.hyper.bonusExp;
    return scope.hyper.bonusExp - 5;
  }
  /**
   * Calculates the arcane force hyper stat modifier
   * @static
   * @param {HyperStats} scope
   * @return {number}
   */
  static calcArcaneForce(scope) {
    if (scope.hyper.arcaneForce &lt; 11) return scope.hyper.arcaneForce * 5;
    return 50 + (scope.hyper.arcaneForce - 10) * 10;
  }
}
/**
 * Provides hyper stat calculations for MapleStory characters
 * @class
 * @memberof module:@perion/calc
 */
class HyperStats {
  /**
   * Use HyperStats.from()
   * @param {Object} playerStats An object containing the player stats
   */
  constructor({base, hyper}) {
    const cloned = Object.assign({}, {base, hyper});
    this.base = cloned.base;
    this.hyper = cloned.hyper;
    this.modified = {};
  }
  /**
   * Creates a HyperStats object
   * @param {Object} playerStats An object containing the player stats
   * @return {HyperStats} A reference to the current HyperStats object
   */
  static from({base, hyper}) {
    return new HyperStats({base, hyper});
  }
  /**
   * Applies the hyper pure stat modifiers
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyPureStats() {
    for (const name of PURE_STATS) {
      const addition = Util.calcPureStat(this, name);
      this.modified[name] = this.base[name] + addition;
    }
    return this;
  };
  /**
   * Applies the Max HP hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyMaxHP() {
    const addition = Util.calcMaxHP(this);
    this.modified.maxHP = this.base.maxHP + addition;
    return this;
  };
  /**
   * Applies the Max MP hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyMaxMP() {
    const addition = Util.calcMaxMP(this);
    this.modified.maxMP = this.base.maxMP + addition;
    return this;
  };
  /**
   * Applies the demon force hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyMaxDF() {
    const addition = Util.calcMaxDF(this);
    this.modified.maxDF = this.base.maxDF + addition;
    return this;
  };
  /**
   * Applies the time force hyper stat modifiers
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyMaxTF() {
    const addition = Util.calcMaxTF(this);
    this.modified.maxTF = this.base.maxTF + addition;
    return this;
  };
  /**
   * Applies the hyper critical rate % hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyCrit() {
    const addition = Util.calcCrit(this);
    this.modified.crit = this.base.crit + addition;
    return this;
  };
  /**
   * Applies the critical damage % hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyCritDmg() {
    const addition = Util.calcCritDmg(this);
    this.modified.critDmg = this.base.critDmg + addition;
    return this;
  };
  /**
   * Applies the ignore defense % hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyIgnoreDef() {
    const addition = Util.calcIgnoreDef(this);
    this.modified.ignoreDef = this.base.ignoreDef + addition;
    return this;
  };
  /**
   * Applies the boss dmg % hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyBossDmg() {
    this.modified.bossDmg = this.base.bossDmg + Util.calcBossDmg(this);
    return this;
  };
  /**
   * Applies the dmg % hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyDmg() {
    this.modified.dmg = this.base.dmg + Util.calcDmg(this);
    return this;
  };
  /**
   * Applies the status resistance hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyStatusResist() {
    const addition = Util.calcStatusResist(this);
    this.modified.statusResist = this.base.statusResist + addition;
    return this;
  };
  /**
   * Applies the stance hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyStance() {
    const addition = Util.calcStance(this);
    this.modified.stance = this.base.stance + addition;
    return this;
  };
  /**
   * Applies the weapon ATT hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyWeaponAtt() {
    const addition = Util.calcWeaponAtt(this);
    this.modified.weaponAtt = this.base.weaponAtt + addition;
    return this;
  };
  /**
   * Applies the magic ATT hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyMagicAtt() {
    const addition = Util.calcMagicAtt(this);
    this.modified.magicAtt = this.base.magicAtt + addition;
    return this;
  };
  /**
   * Applies the bonus EXP % hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyBonusExp() {
    const addition = Util.calcBonusExp(this);
    this.modified.bonusExp = this.base.bonusExp + addition;
    return this;
  };
  /**
   * Applies the arcane force hyper stat modifier
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyArcaneForce() {
    const addition = Util.calcArcaneForce(this);
    this.modified.arcaneForce = this.base.arcaneForce + addition;
    return this;
  };
  /**
   * Applies all the hyper stat modifiers
   * @return {HyperStats} A reference to the current HyperStats object
   */
  applyAll() {
    this.applyArcaneForce();
    this.applyBonusExp();
    this.applyCrit();
    this.applyCritDmg();
    this.applyMaxDF();
    this.applyMaxTF();
    this.applyDmg();
    this.applyIgnoreDef();
    this.applyMaxHP();
    this.applyMaxMP();
    this.applyPureStats();
    this.applyStance();
    this.applyStatusResist();
    this.applyWeaponAtt();
    this.applyMagicAtt();
    return this;
  };
  /**
   * Gets the modified stat values
   * @return {Object} The modified player stats Object
   */
   get() {
    return this.modified;
  }
}
module.exports = {HyperStats, Util};
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Tue Mar 23 2021 11:31:06 GMT-0700 (Pacific Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
